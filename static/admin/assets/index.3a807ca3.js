var k=(h,u,t)=>new Promise((l,o)=>{var f=r=>{try{a(t.next(r))}catch(i){o(i)}},d=r=>{try{a(t.throw(r))}catch(i){o(i)}},a=r=>r.done?l(r.value):Promise.resolve(r.value).then(f,d);a((t=t.apply(h,u)).next())});import{d as T,k as E,w as A,q as D,a5 as R,$ as p,a0 as _,F as B,ad as V,t as I,A as S,f as s,u as e,a8 as n,E as y,a2 as b,a6 as F,ab as M}from"./vue.5d40fadb.js";import N from"./DetailModal.7df06679.js";import{u as $,B as j}from"./useTable.8740fd04.js";import{T as q}from"./useForm.ecd151fb.js";import{u as P}from"./index.4d884b9c.js";import{b as U,aU as z}from"./index.a544321c.js";import{getColumns as G}from"./data.5383f85b.js";import{F as H}from"./ui.83c3e48a.js";import"./index.c7f41dc0.js";/* empty css               *//* empty css              */import"./index.297fc3d1.js";/* empty css               *//* empty css                */import"./useWindowSizeFn.1ba172e7.js";import"./useContentViewHeight.ece959d0.js";/* empty css                *//* empty css                *//* empty css                */import"./utils.79519c03.js";/* empty css               */import"./sortable.esm.045ad385.js";/* empty css                *//* empty css               *//* empty css               */import"./index.fa00f44b.js";import"./download.14b6de08.js";import"./index.03b81760.js";const J={class:"p-4"},K=["src"],Lr=T({__name:"index",setup(h){const u=()=>Promise.resolve(),t=E(),l=E([]),{t:o}=U(),f=z(),[d,{setTableData:a}]=$({title:o("sys.errorLog.tableTitle"),columns:G(),actionColumn:{width:80,title:"Action",dataIndex:"action"}}),[r,{openModal:i}]=P();A(()=>f.getErrorLogInfoList,m=>{D(()=>{a(H(m))})},{immediate:!0});function w(m){t.value=m,i(!0)}function C(){throw new Error("fire vue error!")}function L(){l.value.push(`${new Date().getTime()}.png`)}function v(){return k(this,null,function*(){yield u()})}return(m,O)=>{const g=R("a-button");return p(),_("div",J,[(p(!0),_(B,null,V(l.value,c=>I((p(),_("img",{key:c,src:c,alt:""},null,8,K)),[[S,!1]])),128)),s(N,{info:t.value,onRegister:e(r)},null,8,["info","onRegister"]),s(e(j),{onRegister:e(d),class:"error-handle-table"},{toolbar:n(()=>[s(g,{onClick:C,type:"primary"},{default:n(()=>[y(b(e(o)("sys.errorLog.fireVueError")),1)]),_:1}),s(g,{onClick:L,type:"primary"},{default:n(()=>[y(b(e(o)("sys.errorLog.fireResourceError")),1)]),_:1}),s(g,{onClick:v,type:"primary"},{default:n(()=>[y(b(e(o)("sys.errorLog.fireAjaxError")),1)]),_:1})]),bodyCell:n(({column:c,record:x})=>[c.key==="action"?(p(),F(e(q),{key:0,actions:[{label:e(o)("sys.errorLog.tableActionDesc"),onClick:w.bind(null,x)}]},null,8,["actions"])):M("",!0)]),_:1},8,["onRegister"])])}}});export{Lr as default};
