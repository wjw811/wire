var M=Object.defineProperty,R=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var _=(t,s,e)=>s in t?M(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e,d=(t,s)=>{for(var e in s||(s={}))P.call(s,e)&&_(t,e,s[e]);if(g)for(var e of g(s))k.call(s,e)&&_(t,e,s[e]);return t},b=(t,s)=>R(t,S(s));var y=(t,s,e)=>new Promise((u,r)=>{var l=a=>{try{c(e.next(a))}catch(m){r(m)}},p=a=>{try{c(e.throw(a))}catch(m){r(m)}},c=a=>a.done?u(a.value):Promise.resolve(a.value).then(l,p);c((e=e.apply(t,s)).next())});import{b as x,B as C}from"./index.4d884b9c.js";import{j as O,B as j}from"./useForm.ecd151fb.js";import{b as v}from"./index.a544321c.js";import{e as A,a as L}from"./role.34a3b7d0.js";import{d as U,k as h,e as q,u as n,$ as T,a6 as V,a8 as $,f as z,a7 as D}from"./vue.5d40fadb.js";const{t:i}=v(),Y=[{title:i("system.role.tab.code"),dataIndex:"code",width:200},{title:i("system.role.tab.name"),dataIndex:"name",width:180}],Z=[{field:"name",label:i("system.role.tab.name"),component:"Input",colProps:{span:8}}],G=[{field:"id",label:i("system.role.tab.id"),component:"Input",ifShow:!1},{field:"code",label:i("system.role.tab.code"),required:!0,component:"Input",dynamicDisabled:({model:t})=>t.id>0},{field:"name",label:i("system.role.tab.name"),required:!0,component:"Input"}],N=U({__name:"form",emits:["success","register"],setup(t,{emit:s}){const{t:e}=v(),u=s,r=h(!0),l=h(""),[p,{setFieldsValue:c,resetFields:a,validate:m}]=O({labelWidth:100,baseColProps:{span:24},schemas:G,showActionButtonGroup:!1,actionColOptions:{span:23}}),[w,{setModalProps:f,closeModal:I}]=x(o=>y(this,null,function*(){a(),f({confirmLoading:!1}),r.value=!!(o!=null&&o.isUpdate),n(r)&&(l.value=o.record.id,c(d({},o.record)))})),B=q(()=>n(r)?e("system.role.edit"):e("system.role.add"));function F(){return y(this,null,function*(){try{const o=yield m();f({confirmLoading:!0}),n(r)?yield A(b(d({},o),{id:l.value})):yield L(o),I(),u("success",{isUpdate:n(r),values:b(d({},o),{id:l.value})})}finally{f({confirmLoading:!1})}})}return(o,W)=>(T(),V(n(C),D(o.$attrs,{onRegister:n(w),title:B.value,onOk:F}),{default:$(()=>[z(n(j),{onRegister:n(p)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});var ee=Object.freeze(Object.defineProperty({__proto__:null,default:N},Symbol.toStringTag,{value:"Module"}));export{N as _,Y as c,ee as f,Z as s};
