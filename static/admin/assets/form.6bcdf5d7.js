var b=Object.defineProperty,M=Object.defineProperties;var k=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var v=(t,o,e)=>o in t?b(t,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[o]=e,l=(t,o)=>{for(var e in o||(o={}))C.call(o,e)&&v(t,e,o[e]);if(h)for(var e of h(o))R.call(o,e)&&v(t,e,o[e]);return t},f=(t,o)=>M(t,k(o));var g=(t,o,e)=>new Promise((c,r)=>{var m=i=>{try{n(e.next(i))}catch(p){r(p)}},d=i=>{try{n(e.throw(i))}catch(p){r(p)}},n=i=>i.done?c(i.value):Promise.resolve(i.value).then(m,d);n((e=e.apply(t,o)).next())});import{b as x,B as A}from"./index.3d9df1da.js";import{j as I,B as L}from"./useForm.8bc02932.js";import{b as P}from"./index.f8dcff9b.js";import{e as U}from"./index.data.e4bafa43.js";import{e as O,a as S}from"./index.9d843d40.js";import{d as V,k as _,e as j,u as a,a1 as G,a7 as N,a9 as T,f as W,a8 as $}from"./vue.2e68d871.js";import"./ui.3c499a62.js";import"./useWindowSizeFn.7b554b6f.js";/* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css               */import"./index.8e12a0dc.js";import"./download.1a473a50.js";import"./index.e09f6ddc.js";import"./utils.b124f726.js";import"./table.68230543.js";import"./gateway.68a1dc2f.js";import"./data.1ea74f5c.js";const fe=V({__name:"form",emits:["success","register"],setup(t,{emit:o}){const{t:e}=P(),c=o,r=_(!0),m=_(""),[d,{setFieldsValue:n,resetFields:i,validate:p}]=I({labelWidth:120,baseColProps:{span:24},schemas:U,showActionButtonGroup:!1,actionColOptions:{span:23}}),[w,{setModalProps:u,closeModal:B}]=x(s=>g(this,null,function*(){i(),u({confirmLoading:!1}),r.value=!!(s!=null&&s.isUpdate),a(r)&&(m.value=s.record.id,n(l({},s.record)))})),y=j(()=>a(r)?e("sys.util.edit"):e("sys.util.add"));function F(){return g(this,null,function*(){try{const s=yield p();u({confirmLoading:!0}),a(r)?yield O(f(l({},s),{id:m.value})):yield S(s),B(),c("success",{isUpdate:a(r),values:f(l({},s),{id:m.value})})}finally{u({confirmLoading:!1})}})}return(s,q)=>(G(),N(a(A),$(s.$attrs,{onRegister:a(w),width:"700px",title:y.value,onOk:F}),{default:T(()=>[W(a(L),{onRegister:a(d)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{fe as default};
