var M=Object.defineProperty,k=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var v=(t,o,e)=>o in t?M(t,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[o]=e,p=(t,o)=>{for(var e in o||(o={}))R.call(o,e)&&v(t,e,o[e]);if(h)for(var e of h(o))S.call(o,e)&&v(t,e,o[e]);return t},f=(t,o)=>k(t,C(o));var g=(t,o,e)=>new Promise((l,r)=>{var n=a=>{try{m(e.next(a))}catch(c){r(c)}},u=a=>{try{m(e.throw(a))}catch(c){r(c)}},m=a=>a.done?l(a.value):Promise.resolve(a.value).then(n,u);m((e=e.apply(t,o)).next())});import{b as I,B as L}from"./index.4d884b9c.js";import{j as P,B as U}from"./useForm.ecd151fb.js";import{a as x,e as O,b as V,f as $}from"./index.data.704af9fb.js";import{b as j}from"./index.a544321c.js";import{d as G,k as F,e as _,u as i,$ as N,a6 as T,a8 as W,f as q,a7 as z}from"./vue.5d40fadb.js";import"./ui.83c3e48a.js";import"./useWindowSizeFn.1ba172e7.js";/* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css              *//* empty css                *//* empty css                *//* empty css                */import"./index.fa00f44b.js";import"./download.14b6de08.js";import"./index.03b81760.js";import"./utils.79519c03.js";const ue=G({__name:"form",emits:["success","register"],setup(t,{emit:o}){const{t:e}=j(),l=o,r=F(!0),n=F(""),u=_(()=>i(r)?e("system.account.edit"):e("system.account.add")),m=_(()=>i(r)?O:x),[a,{setFieldsValue:c,resetFields:B,validate:b}]=P({labelWidth:100,baseColProps:{span:24},schemas:m,showActionButtonGroup:!1,actionColOptions:{span:23}}),[w,{setModalProps:d,closeModal:y}]=I(s=>g(this,null,function*(){B(),d({confirmLoading:!1}),r.value=!!(s!=null&&s.isUpdate),i(r)&&(n.value=s.record.id,c(p({},s.record)))}));function A(){return g(this,null,function*(){try{const s=yield b();d({confirmLoading:!0}),i(r)?yield V(f(p({},s),{id:n.value})):yield $(s),y(),l("success",{isUpdate:i(r),values:f(p({},s),{id:n.value})})}finally{d({confirmLoading:!1})}})}return(s,D)=>(N(),T(i(L),z(s.$attrs,{onRegister:i(w),title:u.value,onOk:A}),{default:W(()=>[q(i(U),{onRegister:i(a)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{ue as default};
