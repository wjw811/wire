import{u as x,B as S}from"./useTable.8740fd04.js";import{T}from"./useForm.ecd151fb.js";import{g as k,d as w}from"./fireware.6c4a74dd.js";import{P as M}from"./index.297fc3d1.js";import{u as v}from"./index.4d884b9c.js";import{b as B,ap as I,h as P}from"./index.a544321c.js";import{c as R,s as A,_ as E}from"./form.e59a25de.js";import{d as F,r as N,a5 as V,$ as c,a6 as m,a8 as s,f as a,u as e,E as D,a2 as H,ab as U}from"./vue.5d40fadb.js";/* empty css               *//* empty css              */import"./ui.83c3e48a.js";/* empty css                *//* empty css                *//* empty css                */import"./utils.79519c03.js";import"./useWindowSizeFn.1ba172e7.js";/* empty css               */import"./sortable.esm.045ad385.js";/* empty css                *//* empty css               *//* empty css               */import"./index.fa00f44b.js";import"./download.14b6de08.js";import"./index.03b81760.js";/* empty css               *//* empty css                */import"./useContentViewHeight.ece959d0.js";import"./data.f933c358.js";const he=F({__name:"index",setup(W){const{t}=B(),{createMessage:d}=P(),{hasPermission:i}=I(),[p,{openModal:n}]=v(),u=N({}),[f,{reload:r}]=x({title:" ",api:k,rowKey:"id",columns:R,formConfig:{labelWidth:120,schemas:A,autoSubmitOnEnter:!0},useSearchForm:!0,showTableSetting:!0,bordered:!0,actionColumn:{width:120,title:t("sys.util.action"),dataIndex:"action"}});function b(){n(!0,{isUpdate:!1})}function h(o){n(!0,{record:o,isUpdate:!0})}function g(o){w(o).then(()=>{d.success(t("sys.util.deleteSuccess"))}).finally(()=>{r()})}function _(){r()}return(o,$)=>{const y=V("a-button");return c(),m(e(M),{dense:"",contentFullHeight:"",fixedHeight:"",contentClass:"flex"},{default:s(()=>[a(e(S),{onRegister:e(f),class:"w-full",searchInfo:u},{toolbar:s(()=>[a(y,{type:"primary",onClick:b,disabled:!e(i)(["disc","add"])},{default:s(()=>[D(H(e(t)("sys.util.add")),1)]),_:1},8,["disabled"])]),bodyCell:s(({column:C,record:l})=>[C.key==="action"?(c(),m(e(T),{key:0,actions:[{tooltip:e(t)("system.account.edit"),icon:"clarity:note-edit-line",color:"#1890ff",disabled:!e(i)(["dev","edit"]),onClick:h.bind(null,l)},{icon:"ant-design:delete-outlined",color:"#ff4d4f",tooltip:e(t)("system.account.delete"),disabled:!e(i)(["dev","del"]),popConfirm:{title:e(t)("sys.util.confirm"),placement:"left",confirm:g.bind(null,l)}}]},null,8,["actions"])):U("",!0)]),_:1},8,["onRegister","searchInfo"]),a(E,{onRegister:e(p),onSuccess:_},null,8,["onRegister"])]),_:1})}}});export{he as default};
