var h=(m,l,t)=>new Promise((c,i)=>{var d=e=>{try{a(t.next(e))}catch(s){i(s)}},r=e=>{try{a(t.throw(e))}catch(s){i(s)}},a=e=>e.done?c(e.value):Promise.resolve(e.value).then(d,r);a((t=t.apply(m,l)).next())});import{b as _,B as k}from"./index.4d884b9c.js";import{b as y}from"./index.a544321c.js";import{u as w}from"./useECharts.22ccf039.js";import{c as B}from"./index.3523ca22.js";import{d as b,k as M,$ as R,a6 as v,a8 as A,a1 as C,a7 as P,u as g}from"./vue.5d40fadb.js";import"./ui.83c3e48a.js";import"./useWindowSizeFn.1ba172e7.js";import"./utils.79519c03.js";import"./charts.ac429643.js";const j=b({__name:"chart",setup(m){const{t:l}=y(),t=M(null),{setOptions:c}=w(t),[i,{setModalProps:d}]=_(r=>h(this,null,function*(){const{name:a,record:e,feature:s}=r;d({confirmLoading:!1,title:l("dev.info.chart")+" - "+a,defaultFullscreen:!0});const x=["x","f60"];B({id:e.id,date:e.date}).then(p=>{let u=[],f={x:"right",orient:"vertical",data:[],selected:{}};for(let n=0;n<s.length;n++){const o=s[n];x.includes(o.key)||(u.push({name:o.name,type:"line",data:p[o.key]||[]}),f.data.push(o.name),f.selected[o.name]=n<10)}c({tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,8]},dataZoom:{show:!0},grid:{left:10,right:350,bottom:10,containLabel:!0},xAxis:{data:p.x,axisTick:{show:!1}},yAxis:{axisTick:{show:!1}},legend:f,series:u})})}));return(r,a)=>(R(),v(g(k),P(r.$attrs,{footer:null,onRegister:g(i),width:"90%"}),{default:A(()=>[C("div",{ref_key:"chartRef",ref:t,style:{height:"100%",width:"100%"}},null,512)]),_:1},16,["onRegister"]))}});export{j as default};
