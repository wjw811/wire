var M=Object.defineProperty,k=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var v=(t,o,e)=>o in t?M(t,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[o]=e,p=(t,o)=>{for(var e in o||(o={}))R.call(o,e)&&v(t,e,o[e]);if(h)for(var e of h(o))S.call(o,e)&&v(t,e,o[e]);return t},f=(t,o)=>k(t,C(o));var g=(t,o,e)=>new Promise((l,r)=>{var m=a=>{try{n(e.next(a))}catch(c){r(c)}},u=a=>{try{n(e.throw(a))}catch(c){r(c)}},n=a=>a.done?l(a.value):Promise.resolve(a.value).then(m,u);n((e=e.apply(t,o)).next())});import{b as I,B as L}from"./index.3a1d8258.js";import{j as P,B as U}from"./useForm.d0703219.js";import{a as x,e as O,b as V,f as j}from"./index.data.de8233fa.js";import{b as G}from"./index.69a4dfca.js";import{d as N,k as F,e as _,u as i,a1 as T,a7 as W,a9 as $,f as q,a8 as z}from"./vue.2e68d871.js";import"./ui.5d3da833.js";import"./useWindowSizeFn.d3b17bbd.js";/* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css               */import"./index.e662be6d.js";import"./download.20060076.js";import"./index.8ca31aa0.js";import"./utils.93213dc9.js";import"./table.68230543.js";const de=N({__name:"form",emits:["success","register"],setup(t,{emit:o}){const{t:e}=G(),l=o,r=F(!0),m=F(""),u=_(()=>i(r)?e("system.account.edit"):e("system.account.add")),n=_(()=>i(r)?O:x),[a,{setFieldsValue:c,resetFields:B,validate:b}]=P({labelWidth:100,baseColProps:{span:24},schemas:n,showActionButtonGroup:!1,actionColOptions:{span:23}}),[w,{setModalProps:d,closeModal:y}]=I(s=>g(this,null,function*(){B(),d({confirmLoading:!1}),r.value=!!(s!=null&&s.isUpdate),i(r)&&(m.value=s.record.id,c(p({},s.record)))}));function A(){return g(this,null,function*(){try{const s=yield b();d({confirmLoading:!0}),i(r)?yield V(f(p({},s),{id:m.value})):yield j(s),y(),l("success",{isUpdate:i(r),values:f(p({},s),{id:m.value})})}finally{d({confirmLoading:!1})}})}return(s,D)=>(T(),W(i(L),z(s.$attrs,{onRegister:i(w),title:u.value,onOk:A}),{default:$(()=>[q(i(U),{onRegister:i(a)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{de as default};
