var h=(m,l,t)=>new Promise((c,i)=>{var d=e=>{try{a(t.next(e))}catch(s){i(s)}},r=e=>{try{a(t.throw(e))}catch(s){i(s)}},a=e=>e.done?c(e.value):Promise.resolve(e.value).then(d,r);a((t=t.apply(m,l)).next())});import{b as _,B as k}from"./index.3a1d8258.js";import{b as y}from"./index.69a4dfca.js";import{u as w}from"./useECharts.4e74db27.js";import{c as B}from"./index.35535828.js";import{d as b,k as M,a1 as R,a7 as v,a9 as A,a3 as C,a8 as P,u as g}from"./vue.2e68d871.js";import"./ui.5d3da833.js";import"./useWindowSizeFn.d3b17bbd.js";import"./utils.93213dc9.js";import"./table.68230543.js";import"./charts.e5d90eae.js";const q=b({__name:"chart",setup(m){const{t:l}=y(),t=M(null),{setOptions:c}=w(t),[i,{setModalProps:d}]=_(r=>h(this,null,function*(){const{name:a,record:e,feature:s}=r;d({confirmLoading:!1,title:l("dev.info.chart")+" - "+a,defaultFullscreen:!0});const x=["x","f60"];B({id:e.id,date:e.date}).then(p=>{let u=[],f={x:"right",orient:"vertical",data:[],selected:{}};for(let n=0;n<s.length;n++){const o=s[n];x.includes(o.key)||(u.push({name:o.name,type:"line",data:p[o.key]||[]}),f.data.push(o.name),f.selected[o.name]=n<10)}c({tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,8]},dataZoom:{show:!0},grid:{left:10,right:350,bottom:10,containLabel:!0},xAxis:{data:p.x,axisTick:{show:!1}},yAxis:{axisTick:{show:!1}},legend:f,series:u})})}));return(r,a)=>(R(),v(g(k),P(r.$attrs,{footer:null,onRegister:g(i),width:"90%"}),{default:A(()=>[C("div",{ref_key:"chartRef",ref:t,style:{height:"100%",width:"100%"}},null,512)]),_:1},16,["onRegister"]))}});export{q as default};
