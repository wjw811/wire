import{u as x,B as S}from"./useTable.7df14f41.js";import{T}from"./useForm.d0703219.js";import{g as k,d as w}from"./fireware.963018b7.js";import{a as M}from"./index.bff03604.js";import{u as v}from"./index.3a1d8258.js";import{b as B,r as I,h as R}from"./index.69a4dfca.js";import{c as V,s as A,_ as E}from"./form.737bb33e.js";import{d as F,r as N,U as P,a1 as c,a7 as m,a9 as i,f as a,u as e,E as U,a4 as D,V as H}from"./vue.2e68d871.js";/* empty css               *//* empty css              */import"./ui.5d3da833.js";/* empty css               *//* empty css               *//* empty css               */import"./utils.93213dc9.js";import"./useWindowSizeFn.d3b17bbd.js";/* empty css               */import"./sortable.esm.e8ee5a53.js";/* empty css               *//* empty css               *//* empty css               */import"./index.e662be6d.js";import"./download.20060076.js";import"./index.8ca31aa0.js";/* empty css                *//* empty css                */import"./useContentViewHeight.d0ccb353.js";import"./table.68230543.js";import"./data.71aa74fd.js";const ge=F({__name:"index",setup(W){const{t}=B(),{createMessage:d}=R(),{hasPermission:s}=I(),[p,{openModal:r}]=v(),u=N({}),[f,{reload:n}]=x({title:" ",api:k,rowKey:"id",columns:V,formConfig:{labelWidth:120,schemas:A,autoSubmitOnEnter:!0},useSearchForm:!0,showTableSetting:!0,bordered:!0,actionColumn:{width:120,title:t("sys.util.action"),dataIndex:"action"}});function h(){r(!0,{isUpdate:!1})}function b(o){r(!0,{record:o,isUpdate:!0})}function g(o){w(o).then(()=>{d.success(t("sys.util.deleteSuccess"))}).finally(()=>{n()})}function _(){n()}return(o,K)=>{const y=P("a-button");return c(),m(e(M),{dense:"",contentFullHeight:"",fixedHeight:"",contentClass:"flex"},{default:i(()=>[a(e(S),{onRegister:e(f),class:"w-full",searchInfo:u},{toolbar:i(()=>[a(y,{type:"primary",onClick:h,disabled:!e(s)(["disc","add"])},{default:i(()=>[U(D(e(t)("sys.util.add")),1)]),_:1},8,["disabled"])]),bodyCell:i(({column:C,record:l})=>[C.key==="action"?(c(),m(e(T),{key:0,actions:[{tooltip:e(t)("system.account.edit"),icon:"clarity:note-edit-line",color:"#1890ff",disabled:!e(s)(["dev","edit"]),onClick:b.bind(null,l)},{icon:"ant-design:delete-outlined",color:"#ff4d4f",tooltip:e(t)("system.account.delete"),disabled:!e(s)(["dev","del"]),popConfirm:{title:e(t)("sys.util.confirm"),placement:"left",confirm:g.bind(null,l)}}]},null,8,["actions"])):H("",!0)]),_:1},8,["onRegister","searchInfo"]),a(E,{onRegister:e(p),onSuccess:_},null,8,["onRegister"])]),_:1})}}});export{ge as default};
