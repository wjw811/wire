import{u as R,B as k}from"./useTable.7df14f41.js";import{T as x}from"./useForm.d0703219.js";import{g as S,d as M}from"./role.de7a1c5a.js";import{u as l}from"./index.3a1d8258.js";import{b as T}from"./index.69a4dfca.js";import{c as v,s as B,_ as w}from"./form.ae649a49.js";import V from"./PrivilegeModal.3cb0a283.js";import{d as A,U as E,a1 as m,a2 as I,f as n,a9 as r,E as N,a4 as U,u as e,a7 as D,V as F}from"./vue.2e68d871.js";/* empty css               *//* empty css              */import"./index.bff03604.js";/* empty css                *//* empty css                */import"./useWindowSizeFn.d3b17bbd.js";import"./useContentViewHeight.d0ccb353.js";import"./ui.5d3da833.js";/* empty css               *//* empty css               *//* empty css               */import"./utils.93213dc9.js";/* empty css               */import"./sortable.esm.e8ee5a53.js";/* empty css               *//* empty css               *//* empty css               */import"./index.e662be6d.js";import"./download.20060076.js";import"./index.8ca31aa0.js";import"./table.68230543.js";const _e=A({__name:"index",setup(P){const{t}=T(),[c,{openModal:s}]=l(),[p,{openModal:d}]=l(),[u,{reload:f}]=R({title:t("system.role.list"),api:S,columns:v,formConfig:{labelWidth:120,schemas:B},useSearchForm:!0,showTableSetting:!0,bordered:!0,showIndexColumn:!1,actionColumn:{width:80,title:t("sys.util.action"),dataIndex:"action",fixed:void 0}});function _(){s(!0,{isUpdate:!1})}function g(o){s(!0,{record:o,isUpdate:!0})}function b(o){d(!0,{record:o})}function h(o){M(o)}function a(){f()}return(o,$)=>{const y=E("a-button");return m(),I("div",null,[n(e(k),{onRegister:e(u)},{toolbar:r(()=>[n(y,{type:"primary",onClick:_},{default:r(()=>[N(U(e(t)("system.role.add")),1)]),_:1})]),bodyCell:r(({column:C,record:i})=>[C.key==="action"?(m(),D(e(x),{key:0,actions:[{icon:"clarity:note-edit-line",color:"#1890ff",tooltip:e(t)("system.role.edit"),onClick:g.bind(null,i)},{icon:"ant-design:cluster-outlined",color:"#722ed1",tooltip:e(t)("system.role.set"),onClick:b.bind(null,i)},{icon:"ant-design:delete-outlined",color:"#ff4d4f",tooltip:e(t)("system.role.delete"),disabled:i.preset==1,popConfirm:{title:e(t)("sys.util.confirm"),placement:"left",confirm:h.bind(null,i)}}]},null,8,["actions"])):F("",!0)]),_:1},8,["onRegister"]),n(w,{onRegister:e(c),onSuccess:a},null,8,["onRegister"]),n(V,{onRegister:e(p),onSuccess:a},null,8,["onRegister"])])}}});export{_e as default};
